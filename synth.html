<!doctype html>
<html>
	<head>
		<script src="./audiolib.js"></script>
		<script src="./jquery.js"></script>
	</head>
	<body>
		HELLO SYNTH
        <h3>Frequency</h3>
        <input class="frequency" width="500" value="440" step="1" type="range" min="20" max="10000" />
        <p class="frequency-reading">440</p>
        <h3>Volume</h3>
        <input class="gain" min="0.0" max="1.0" step=".01" type="range" />
        <p class="gain-reading">440</p>
        <select class="waveform" type="select">
          <option value="sine">Sine</option>
          <option value="square">Square</option>
          <option value="sawtooth">Sawtooth</option>
          <option value="triangle">Triangle</option>
        </select>
		
		<script>
          var context = new webkitAudioContext();
          var oscillator = context.createOscillator();
          var gainNode = context.createGainNode();

          oscillator.connect(gainNode); // Connect to speakers
          gainNode.connect(context.destination);
          oscillator.start(0); // Start generating sound immediately

          var $gain = $('.gain');
          var $frequency = $('.frequency');
          var $frequencyReading = $('.frequency-reading');
          var $gainReading = $('.gain-reading');
          var $waveform = $('.waveform');

          $frequency.on('change', function(e) {
            oscillator.frequency.value = e.target.value;
            $frequencyReading.text(e.target.value);
          });

          $gain.on('change', function(e) {
            gainNode.gain.value = e.target.value;
            $gainReading.text(e.target.value);
          });
          
          $waveform.on('change', function(e) {
            oscillator.type = e.target.value;
          });

        

          
		</script>
	</body>
</html>
